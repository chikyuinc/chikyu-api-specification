# 概要
ちきゅうの公開APIの仕様について説明します。

 * プロトコルは全て「https」を利用。
 * リクエスト / レスポンスはどちらも「JSON」となる。
 * メソッドはPOSTのみとなる。
 * 認証方式により、「class0」「class1」「class2」に分けられる。
 * 毎秒10リクエストまで、1日5000リクエストまでの制限がある。

# APIのレベル

## class0
 * 認証なしで、エンドポイントにリクエストを送信するだけで利用可能。

## class1
 * HTTPヘッダに2つの認証用ヘッダを追加し、エンドポイントにリクエストを送信する。
   * x-api-key
   * x-auth-key
 * 認証キーは、class-2のAPIとしてそれを生成するエンドポイントが存在する。
 * 生成の際は関連するロールのIDが必須となり、それによって呼び出し可能な処理が制御される。
 * 作成されたデータの作成者/変更者は「APIユーザー」となる。
   * ちきゅうの登録ユーザーとは関連付けられない。
 * APIキーの有効期限は設定されない(不要になったら削除)。
 * オプションとして、APIキーを利用可能なIPアドレスリストを指定できる。

## class2
 * 認証に複雑な手順が必要なものの、ちきゅうの持つ様々な機能を呼び出せる。
   * メールアドレスとパスワードから、認証トークンを生成。
   * 認証トークンから、セッションを生成。
   * 生成したセッション情報を元に、AWSの提供する「署名バージョン4署名プロセス」に準拠するリクエスト署名を行って送信。
   * HTTPヘッダ(x-api-key)の付加も必要。
 * 認証トークン, セッションにはそれぞれ有効期限が設定される。
   * デフォルトでは、両方とも24時間。
 * 認証トークン, セッションの生成を行うAPIはclass0のAPIとして提供される。
 * 作成されたデータの作成者/変更者は、認証トークンを取得したユーザーとなる。
   * ちきゅうに登録しているユーザーと関連付けられる。
 * 認証済リクエストの発行に関わる一連の処理は、「ちきゅうSDK」として提供される。
   * 認証トークンの発行 / 破棄
   * セッションの生成 / 破棄
   * 署名済みリクエストの発行
 * SDKは以下の言語に対応する。
   * Ruby
   * Java
   * JavaScript(jQuery)
   * Python
   * PHP

# API base URL
2018/05/14現在、テスト用のみ提供しています(本番リリース後には利用不可)。
## class0
https://gateway.chikyu.mobi/devdc/api/v2/open/
## class1
https://gateway.chikyu.mobi/devdc/api/v2/public/
## class2
https://gateway.chikyu.mobi/devdc/api/v2/secure/

# APIリスト
http://dev-docs.chikyu.mobi/
